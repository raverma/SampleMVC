@model SampleMVC.ViewModel.MovieFormViewModel
@{
    /**/

    ViewBag.Title = "New";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>@Model.Title</h2>
@using (Html.BeginForm("Save", "Movies"))
{
    <div>
        @Html.Hidden("Movie.Id", (Model.Movie != null) ? Model.Movie.ID : 0)
    </div>
    <div>
        @Html.LabelFor(m => m.Movie.Name)
        @Html.TextBoxFor(m => m.Movie.Name, new { @class = "form-control" })
    </div>
    <div>
        @Html.LabelFor(m => m.Movie.Genre)
        @Html.TextBoxFor(m => m.Movie.Genre, new { @class = "form-control" })
    </div>
    <div>
        @Html.LabelFor(m => m.Movie.ReleaseDate)
        @Html.TextBoxFor(m => m.Movie.ReleaseDate, new { @class = "form-control" })
    </div>
    if (!Model.Title.Contains("Details"))
    {
        <button type="submit" class="btn btn-primary">Save</button>
        <button id="btnCancel" type="button" class="btn btn-primary">Cancel</button>
    }
    else
    {
        <button id="btnBack" type="button" class="btn btn-primary">Back</button>
    }
}

@section scripts
{
    @Scripts.Render("~/bundles/jqueryval")
    <script>
        $(document).ready(function () {
            $("#btnCancel").on("click", function () {
                window.location.replace("/samplemvc/movies");
            });
        });
    </script>
}

